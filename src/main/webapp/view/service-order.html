<!doctype html>
<html lang="en" class="theme-fs-sm" data-bs-theme="light" data-bs-theme-color="default" dir="ltr">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>Service Order Management - Medical Dashboard</title>
        <link rel="shortcut icon" href="../assets/assets/images/favicon.ico" />
        <link rel="stylesheet" href="../assets/assets/css/core/libs.min.css" />
        <link rel="stylesheet" href="../assets/assets/vendor/flaticon/css/flaticon.css" />
        <link rel="stylesheet" href="../assets/assets/css/kivicare.min.css?v=1.4.1" />
        <link rel="stylesheet" href="../assets/assets/css/custom.min.css?v=1.4.1" />
        <link rel="stylesheet" href="../assets/assets/css/rtl.min.css?v=1.4.1"/>
        <link rel="stylesheet" href="../assets/assets/css/customizer.min.css?v=1.4.1"/>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
        
        <style>
            :root {
                --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                --success-gradient: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
                --info-gradient: linear-gradient(135deg, #3182ce 0%, #63b3ed 100%);
                --warning-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
                --danger-gradient: linear-gradient(135deg, #fc466b 0%, #3f5efb 100%);
                --dark-gradient: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
                --light-gradient: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
                
                --shadow-sm: 0 2px 10px rgba(0,0,0,0.08);
                --shadow-md: 0 4px 20px rgba(0,0,0,0.12);
                --shadow-lg: 0 8px 30px rgba(0,0,0,0.16);
                --shadow-xl: 0 12px 40px rgba(0,0,0,0.20);
                
                --border-radius: 12px;
                --border-radius-lg: 16px;
                --border-radius-xl: 20px;
                
                --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            }
            
            body {
                background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
                font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
                line-height: 1.6;
            }
            
            /* Fix wrapper layout */
            .wrapper {
                display: flex;
                width: 100%;
                min-height: 100vh;
            }
            
            .main-content {
                flex: 1;
                display: flex;
                flex-direction: column;
            }
            
            /* Adjust for sidebar layout */
            .content-inner {
                padding: 1rem !important;
                background: transparent !important;
            }
            
            /* Override existing styles for sidebar layout */
            .page-header {
                margin-top: 0;
                margin-bottom: 1.5rem;
            }
            
            .action-grid {
                margin-bottom: 1.5rem;
            }
            
            .modern-card {
                margin-bottom: 1.5rem;
            }
            
            /* Fix breadcrumb in sidebar layout */
            .modern-breadcrumb {
                margin-bottom: 1rem;
            }
            
            /* Header Section */
            .page-header {
                background: var(--primary-gradient);
                border-radius: var(--border-radius-xl);
                padding: 2.5rem;
                margin-bottom: 2rem;
                color: white;
                box-shadow: var(--shadow-lg);
                position: relative;
                overflow: hidden;
            }
            
            .page-header::before {
                content: '';
                position: absolute;
                top: 0;
                right: 0;
                width: 200px;
                height: 200px;
                background: rgba(255,255,255,0.1);
                border-radius: 50%;
                transform: translate(50%, -50%);
            }
            
            .page-header h1 {
                font-size: 2.5rem;
                font-weight: 700;
                margin: 0;
                position: relative;
                z-index: 1;
            }
            
            .page-header p {
                font-size: 1.1rem;
                opacity: 0.9;
                margin: 0.5rem 0 0 0;
                position: relative;
                z-index: 1;
            }
            
            /* Modern Cards */
            .modern-card {
                background: white;
                border-radius: var(--border-radius-lg);
                box-shadow: var(--shadow-sm);
                border: none;
                transition: var(--transition);
                margin-bottom: 2rem;
                overflow: hidden;
            }
            
            .modern-card:hover {
                box-shadow: var(--shadow-md);
                transform: translateY(-2px);
            }
            
            .modern-card .card-header {
                background: white;
                border-bottom: 1px solid #e9ecef;
                padding: 1.5rem 2rem;
                border-radius: var(--border-radius-lg) var(--border-radius-lg) 0 0;
            }
            
            .modern-card .card-body {
                padding: 2rem;
            }
            
            .card-title-modern {
                font-size: 1.25rem;
                font-weight: 600;
                color: #2d3748;
                margin: 0;
                display: flex;
                align-items: center;
                gap: 0.75rem;
            }
            
            .card-title-modern i {
                color: #667eea;
                font-size: 1.1rem;
            }
            
            /* Modern Buttons */
            .btn-modern {
                border: none;
                border-radius: var(--border-radius);
                padding: 0.75rem 1.5rem;
                font-weight: 600;
                font-size: 0.9rem;
                transition: var(--transition);
                position: relative;
                overflow: hidden;
                display: inline-flex;
                align-items: center;
                gap: 0.5rem;
                text-decoration: none;
                cursor: pointer;
            }
            
            .btn-modern:hover {
                transform: translateY(-2px);
                text-decoration: none;
            }
            
            .btn-modern::before {
                content: '';
                position: absolute;
                top: 0;
                left: -100%;
                width: 100%;
                height: 100%;
                background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
                transition: left 0.5s;
            }
            
            .btn-modern:hover::before {
                left: 100%;
            }
            
            .btn-primary-modern {
                background: var(--primary-gradient);
                color: white;
                box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
            }
            
            .btn-primary-modern:hover {
                box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
                color: white;
            }
            
            .btn-success-modern {
                background: var(--success-gradient);
                color: white;
                box-shadow: 0 4px 15px rgba(17, 153, 142, 0.3);
            }
            
            .btn-success-modern:hover {
                box-shadow: 0 6px 20px rgba(17, 153, 142, 0.4);
                color: white;
            }
            
            .btn-info-modern {
                background: var(--info-gradient);
                color: white;
                box-shadow: 0 4px 15px rgba(49, 130, 206, 0.3);
            }
            
            .btn-info-modern:hover {
                box-shadow: 0 6px 20px rgba(49, 130, 206, 0.4);
                color: white;
            }
            
            .btn-warning-modern {
                background: var(--warning-gradient);
                color: white;
                box-shadow: 0 4px 15px rgba(240, 147, 251, 0.3);
            }
            
            .btn-warning-modern:hover {
                box-shadow: 0 6px 20px rgba(240, 147, 251, 0.4);
                color: white;
            }
            
            .btn-outline-modern {
                background: transparent;
                border: 2px solid #667eea;
                color: #667eea;
                transition: var(--transition);
            }
            
            .btn-outline-modern:hover {
                background: #667eea;
                color: white;
                transform: translateY(-2px);
                box-shadow: 0 6px 20px rgba(102, 126, 234, 0.3);
            }
            
            /* Action Grid */
            .action-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
                gap: 1.5rem;
                margin-bottom: 2rem;
            }
            
            .action-card {
                background: white;
                border-radius: var(--border-radius-lg);
                padding: 2rem;
                box-shadow: var(--shadow-sm);
                transition: var(--transition);
                border: 1px solid #e9ecef;
                text-align: center;
            }
            
            .action-card:hover {
                box-shadow: var(--shadow-md);
                transform: translateY(-4px);
                border-color: #667eea;
            }
            
            .action-icon {
                width: 64px;
                height: 64px;
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                margin: 0 auto 1rem;
                font-size: 1.5rem;
                color: white;
            }
            
            .action-icon.primary { background: var(--primary-gradient); }
            .action-icon.success { background: var(--success-gradient); }
            .action-icon.info { background: var(--info-gradient); }
            .action-icon.warning { background: var(--warning-gradient); }
            
            .action-title {
                font-size: 1.1rem;
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 0.5rem;
            }
            
            .action-desc {
                color: #718096;
                font-size: 0.9rem;
                margin-bottom: 1.5rem;
            }
            
            /* Search Section */
            .search-section {
                background: white;
                border-radius: var(--border-radius-lg);
                padding: 2rem;
                box-shadow: var(--shadow-sm);
                margin-bottom: 2rem;
            }
            
            .search-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
                gap: 1.5rem;
                margin-top: 1.5rem;
            }
            
            .search-item {
                background: #f8f9fa;
                border-radius: var(--border-radius);
                padding: 1.5rem;
                transition: var(--transition);
            }
            
            .search-item:hover {
                background: #e9ecef;
                transform: translateY(-2px);
            }
            
            .search-label {
                display: flex;
                align-items: center;
                gap: 0.5rem;
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 0.75rem;
            }
            
            .search-input-group {
                display: flex;
                border-radius: var(--border-radius);
                overflow: hidden;
                box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            }
            
            .search-input-group input {
                border: none;
                padding: 0.75rem 1rem;
                flex: 1;
                font-size: 0.9rem;
            }
            
            .search-input-group input:focus {
                outline: none;
                box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
            }
            
            .search-btn {
                background: var(--primary-gradient);
                color: white;
                border: none;
                padding: 0.75rem 1rem;
                cursor: pointer;
                transition: var(--transition);
            }
            
            .search-btn:hover {
                background: var(--primary-gradient);
                filter: brightness(1.1);
            }
            
            /* Modern Table */
            .modern-table {
                background: white;
                border-radius: var(--border-radius-lg);
                overflow: hidden;
                box-shadow: var(--shadow-sm);
            }
            
            .modern-table table {
                margin: 0;
                border: none;
            }
            
            .modern-table thead th {
                background: #f8f9fa;
                color: #4a5568;
                font-weight: 600;
                text-transform: uppercase;
                font-size: 0.8rem;
                letter-spacing: 0.5px;
                padding: 1rem;
                border: none;
            }
            
            .modern-table tbody td {
                padding: 1rem;
                border: none;
                border-bottom: 1px solid #e9ecef;
                vertical-align: middle;
            }
            
            .modern-table tbody tr {
                transition: var(--transition);
            }
            
            .modern-table tbody tr:hover {
                background: #f8f9fa;
                transform: scale(1.01);
            }
            
            /* Loading Animation */
            .loading-container {
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                padding: 3rem;
                color: #718096;
            }
            
            .modern-spinner {
                width: 48px;
                height: 48px;
                border: 4px solid #e9ecef;
                border-top: 4px solid #667eea;
                border-radius: 50%;
                animation: spin 1s linear infinite;
                margin-bottom: 1rem;
            }
            
            @keyframes spin {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
            }
            
            /* Action Grid */
            .action-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
                gap: 1.5rem;
                margin-bottom: 2rem;
            }
            
            .action-card {
                background: white;
                border-radius: var(--border-radius-lg);
                padding: 2rem;
                box-shadow: var(--shadow-sm);
                transition: var(--transition);
                border: 1px solid #e9ecef;
                text-align: center;
            }
            
            .action-card:hover {
                box-shadow: var(--shadow-md);
                transform: translateY(-4px);
                border-color: #667eea;
            }
            
            .action-icon {
                width: 64px;
                height: 64px;
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                margin: 0 auto 1rem;
                font-size: 1.5rem;
                color: white;
            }
            
            .action-icon.primary { background: var(--primary-gradient); }
            .action-icon.success { background: var(--success-gradient); }
            .action-icon.info { background: var(--info-gradient); }
            .action-icon.warning { background: var(--warning-gradient); }
            
            .action-title {
                font-size: 1.1rem;
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 0.5rem;
            }
            
            .action-desc {
                color: #718096;
                font-size: 0.9rem;
                margin-bottom: 1.5rem;
            }
            
            /* Search Section */
            .search-section {
                background: white;
                border-radius: var(--border-radius-lg);
                padding: 2rem;
                box-shadow: var(--shadow-sm);
                margin-bottom: 2rem;
            }
            
            .search-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
                gap: 1.5rem;
                margin-top: 1.5rem;
            }
            
            .search-item {
                background: #f8f9fa;
                border-radius: var(--border-radius);
                padding: 1.5rem;
                transition: var(--transition);
            }
            
            .search-item:hover {
                background: #e9ecef;
                transform: translateY(-2px);
            }
            
            .search-label {
                display: flex;
                align-items: center;
                gap: 0.5rem;
                font-weight: 600;
                color: #2d3748;
                margin-bottom: 0.75rem;
            }
            
            .search-input-group {
                display: flex;
                border-radius: var(--border-radius);
                overflow: hidden;
                box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            }
            
            .search-input-group input {
                border: none;
                padding: 0.75rem 1rem;
                flex: 1;
                font-size: 0.9rem;
            }
            
            .search-input-group input:focus {
                outline: none;
                box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
            }
            
            .search-btn {
                background: var(--primary-gradient);
                color: white;
                border: none;
                padding: 0.75rem 1rem;
                cursor: pointer;
                transition: var(--transition);
            }
            
            .search-btn:hover {
                background: var(--primary-gradient);
                filter: brightness(1.1);
            }
            
            /* Modern Table */
            .modern-table {
                background: white;
                border-radius: var(--border-radius-lg);
                overflow: hidden;
                box-shadow: var(--shadow-sm);
            }
            
            .modern-table table {
                margin: 0;
                border: none;
            }
            
            .modern-table thead th {
                background: #f8f9fa;
                color: #4a5568;
                font-weight: 600;
                text-transform: uppercase;
                font-size: 0.8rem;
                letter-spacing: 0.5px;
                padding: 1rem;
                border: none;
            }
            
            .modern-table tbody td {
                padding: 1rem;
                border: none;
                border-bottom: 1px solid #e9ecef;
                vertical-align: middle;
            }
            
            .modern-table tbody tr {
                transition: var(--transition);
            }
            
            .modern-table tbody tr:hover {
                background: #f8f9fa;
                transform: scale(1.01);
            }
            
            /* Status Badges */
            .status-badge {
                padding: 0.5rem 1rem;
                border-radius: 20px;
                font-weight: 600;
                font-size: 0.8rem;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            .status-inprogress {
                background: linear-gradient(135deg, #3182ce, #63b3ed);
                color: white;
            }
            
            .status-waiting {
                background: linear-gradient(135deg, #ed8936, #f6ad55);
                color: white;
            }
            
            .status-completed {
                background: linear-gradient(135deg, #38a169, #68d391);
                color: white;
            }
            
            /* Loading Animation */
            .loading-container {
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                padding: 3rem;
                color: #718096;
            }
            
            .modern-spinner {
                width: 48px;
                height: 48px;
                border: 4px solid #e9ecef;
                border-top: 4px solid #667eea;
                border-radius: 50%;
                animation: spin 1s linear infinite;
                margin-bottom: 1rem;
            }
            
            @keyframes spin {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
            }
            
            /* Alert Styles */
            .modern-alert {
                border-radius: var(--border-radius);
                border: none;
                padding: 1rem 1.5rem;
                margin-bottom: 1.5rem;
                display: flex;
                align-items: center;
                gap: 0.75rem;
            }
            
            .modern-alert.alert-success {
                background: linear-gradient(135deg, #c6f6d5, #9ae6b4);
                color: #22543d;
            }
            
            .modern-alert.alert-danger {
                background: linear-gradient(135deg, #fed7d7, #feb2b2);
                color: #742a2a;
            }
            
            .modern-alert.alert-info {
                background: linear-gradient(135deg, #bee3f8, #90cdf4);
                color: #2a4365;
            }
            
            /* Breadcrumb */
            .modern-breadcrumb {
                background: transparent;
                padding: 0;
                margin-bottom: 2rem;
            }
            
            .modern-breadcrumb .breadcrumb {
                background: white;
                border-radius: var(--border-radius);
                padding: 1rem 1.5rem;
                box-shadow: var(--shadow-sm);
            }
            
            .breadcrumb-item a {
                color: #667eea;
                text-decoration: none;
                font-weight: 500;
                transition: var(--transition);
            }
            
            .breadcrumb-item a:hover {
                color: #4c51bf;
                text-decoration: none;
            }
            
            /* Demo Section */
            .demo-section {
                background: #f7fafc;
                border-radius: var(--border-radius-lg);
                padding: 2rem;
                margin-top: 1.5rem;
                border-left: 4px solid #667eea;
            }
            
            .demo-buttons {
                display: flex;
                flex-wrap: wrap;
                gap: 0.75rem;
            }
            
            .btn-demo {
                background: white;
                border: 2px solid #e9ecef;
                color: #4a5568;
                border-radius: var(--border-radius);
                padding: 0.5rem 1rem;
                font-size: 0.85rem;
                transition: var(--transition);
                display: flex;
                align-items: center;
                gap: 0.5rem;
            }
            
            .btn-demo:hover {
                border-color: #667eea;
                color: #667eea;
                transform: translateY(-1px);
                box-shadow: 0 4px 12px rgba(102, 126, 234, 0.15);
            }
            
            /* Responsive Design */
            @media (max-width: 768px) {
                .content-inner {
                    padding: 0.5rem !important;
                }
                
                .page-header {
                    padding: 1.5rem;
                    margin-bottom: 1.5rem;
                }
                
                .page-header h1 {
                    font-size: 1.8rem;
                }
                
                .action-grid {
                    grid-template-columns: 1fr;
                    gap: 1rem;
                }
                
                .search-grid {
                    grid-template-columns: 1fr;
                }
                
                .demo-buttons {
                    flex-direction: column;
                }
                
                .modern-card .card-body {
                    padding: 1rem;
                }
                
                .action-card {
                    padding: 1.5rem;
                }
            }
            
            /* Utility Classes */
            .text-gradient {
                background: var(--primary-gradient);
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
                background-clip: text;
                font-weight: 700;
            }
            
            .glass-effect {
                background: rgba(255, 255, 255, 0.95);
                backdrop-filter: blur(10px);
                border: 1px solid rgba(255, 255, 255, 0.2);
            }
        </style>
    </head>
    
    <body class="  ">
        <div class="wrapper">
        <aside class="sidebar sidebar-default sidebar-white sidebar-base navs-rounded-all ">
            <div class="sidebar-header d-flex align-items-center justify-content-start">
                <a href="./home-doctor.html" class="navbar-brand">
                    <!--Logo start-->
                    <div class="logo-main">
                        <div class="logo-normal">
                            <img class="theme-color-default-img img-fluid" src="../assets/assets/images/logo.png" loading="lazy" height="30" alt="logo">
                            <img class="theme-color-purple-img img-fluid" src="../assets/assets/images/logo1.png" loading="lazy" height="30" alt="logo">
                            <img class="theme-color-blue-img img-fluid" src="../assets/assets/images/logo2.png" loading="lazy" height="30" alt="logo">
                            <img class="theme-color-green-img img-fluid" src="../assets/assets/images/logo3.png" loading="lazy" height="30" alt="logo">
                            <img class="theme-color-yellow-img img-fluid" src="../assets/assets/images/logo4.png" loading="lazy" height="30" alt="logo">
                            <img class="theme-color-pink-img img-fluid" src="../assets/assets/images/logo5.png" loading="lazy" height="30" alt="logo">
                        </div>
                        <div class="logo-mini">
                            <img class="theme-color-default-img img-fluid" src="../assets/assets/images/logo-mini.png" loading="lazy" height="30" alt="logo">
                            <img class="theme-color-purple-img img-fluid" src="../assets/assets/images/logo-mini1.png" loading="lazy" height="30" alt="logo">
                            <img class="theme-color-blue-img img-fluid" src="../assets/assets/images/logo-mini2.png" loading="lazy" height="30" alt="logo">
                            <img class="theme-color-green-img img-fluid" src="../assets/assets/images/logo-mini3.png" loading="lazy" height="30" alt="logo">
                            <img class="theme-color-yellow-img img-fluid" src="../assets/assets/images/logo-mini4.png" loading="lazy" height="30" alt="logo">
                            <img class="theme-color-pink-img img-fluid" src="../assets/assets/images/logo-mini5.png" loading="lazy" height="30" alt="logo">
                        </div>
                    </div>
                    <!--logo End-->
                </a>
                <div class="sidebar-toggle" data-toggle="sidebar" data-active="true">
                    <i class="icon">
                        <svg class="icon-20" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M4.25 12.2744L19.25 12.2744" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                            <path d="M10.2998 18.2988L4.2498 12.2748L10.2998 6.24976" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                        </svg>
                    </i>
                </div>
            </div>
            <div class="sidebar-body pt-0 data-scrollbar">
                <div class="sidebar-list">
                    <!-- Sidebar Menu Start -->
                    <ul class="navbar-nav iq-main-menu" id="sidebar-menu">
                        <li class="nav-item static-item">
                            <a class="nav-link static-item disabled text-start" href="#" tabindex="-1">
                                <span class="default-icon">Home</span>
                                <span class="mini-icon" data-bs-toggle="tooltip" title="Home" data-bs-placement="right">-</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="collapse" href="#dashboard" role="button" aria-expanded="false">
                                <i class="icon" data-bs-toggle="tooltip" title="Dashboard" data-bs-placement="right">
                                    <svg width="20" class="icon-20" viewBox="0 0 24 24" fill="none"
                                         xmlns="http://www.w3.org/2000/svg">
                                        <path opacity="0.4"
                                              d="M16.0756 2H19.4616C20.8639 2 22.0001 3.14585 22.0001 4.55996V7.97452C22.0001 9.38864 20.8639 10.5345 19.4616 10.5345H16.0756C14.6734 10.5345 13.5371 9.38864 13.5371 7.97452V4.55996C13.5371 3.14585 14.6734 2 16.0756 2Z"
                                              fill="currentColor"></path>
                                        <path fill-rule="evenodd" clip-rule="evenodd"
                                              d="M4.53852 2H7.92449C9.32676 2 10.463 3.14585 10.463 4.55996V7.97452C10.463 9.38864 9.32676 10.5345 7.92449 10.5345H4.53852C3.13626 10.5345 2 9.38864 2 7.97452V4.55996C2 3.14585 3.13626 2 4.53852 2ZM4.53852 13.4655H7.92449C9.32676 13.4655 10.463 14.6114 10.463 16.0255V19.44C10.463 20.8532 9.32676 22 7.92449 22H4.53852C3.13626 22 2 20.8532 2 19.44V16.0255C2 14.6114 3.13626 13.4655 4.53852 13.4655ZM19.4615 13.4655H16.0755C14.6732 13.4655 13.537 14.6114 13.537 16.0255V19.44C13.537 20.8532 14.6732 22 16.0755 22H19.4615C20.8637 22 22 20.8532 22 19.44V16.0255C22 14.6114 20.8637 13.4655 19.4615 13.4655Z"
                                              fill="currentColor"></path>
                                    </svg>
                                </i>
                                <span class="item-name">Dashboard</span>
                                <i class="right-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" class="icon-18" fill="none"
                                         viewBox="0 0 24 24"
                                         stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                                    </svg>
                                </i>
                            </a>
                            <ul class="sub-nav collapse" id="dashboard" data-bs-parent="#sidebar-menu">
                                <li class="nav-item">
                                    <a class="nav-link" aria-current="page"
                                       href="./home-doctor.html">
                                        <i class="icon" data-bs-toggle="tooltip" title="Dashboard" data-bs-placement="right">
                                            <svg class="icon-20" width="20" viewBox="0 0 24 24" fill="none"
                                                 xmlns="http://www.w3.org/2000/svg">
                                                <path
                                                        d="M9.14373 20.7821V17.7152C9.14372 16.9381 9.77567 16.3067 10.5584 16.3018H13.4326C14.2189 16.3018 14.8563 16.9346 14.8563 17.7152V20.7732C14.8562 21.4473 15.404 21.9951 16.0829 22H18.0438C18.9596 22.0023 19.8388 21.6428 20.4872 21.0007C21.1356 20.3586 21.5 19.4868 21.5 18.5775V9.86585C21.5 9.13139 21.1721 8.43471 20.6046 7.9635L13.943 2.67427C12.7785 1.74912 11.1154 1.77901 9.98539 2.74538L3.46701 7.9635C2.87274 8.42082 2.51755 9.11956 2.5 9.86585V18.5686C2.5 20.4637 4.04738 22 5.95617 22H7.87229C8.19917 22.0023 8.51349 21.8751 8.74547 21.6464C8.97746 21.4178 9.10793 21.1067 9.10792 20.7821H9.14373Z"
                                                        fill="currentColor"></path>
                                            </svg>
                                        </i>
                                        <i class="sidenav-mini-icon" data-bs-toggle="tooltip" title="Docter Dashboard"
                                           data-bs-placement="right">DD</i>
                                        <span class="item-name">Docter Dashboard</span>
                                    </a>
                                </li>

                            </ul>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="./appointment-doctor.html">
                                <i class="icon" data-bs-toggle="tooltip" title="Appointment" data-bs-placement="right">
                                    <svg class="icon-20" width="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM19 19H5V8H19V19ZM7 10H12V15H7V10Z" fill="currentColor"/>
                                    </svg>
                                </i>
                                <span class="item-name">Appointment</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="./examination.html">
                                <i class="icon" data-bs-toggle="tooltip" title="Wait List" data-bs-placement="right">
                                    <svg class="icon-20" width="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M14 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.89 22 5.99 22H18C19.1 22 20 21.1 20 20V8L14 2ZM18 20H6V4H13V9H18V20Z" fill="currentColor"/>
                                    </svg>
                                </i>
                                <span class="item-name">Wait List</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="./service-order.html">
                                <i class="icon" data-bs-toggle="tooltip" title="Service Order" data-bs-placement="right">
                                    <svg class="icon-20" width="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M9 16.17L4.83 12L3.41 13.41L9 19L21 7L19.59 5.59L9 16.17Z" fill="currentColor"/>
                                        <path d="M14 2C13.45 2 13 2.45 13 3S13.45 4 14 4H16V6H13C12.45 6 12 6.45 12 7S12.45 8 13 8H16V10H14C13.45 10 13 10.45 13 11S13.45 12 14 12H16V14H13C12.45 14 12 14.45 12 15S12.45 16 13 16H16V18H14C13.45 18 13 18.45 13 19S13.45 20 14 20H18C18.55 20 19 19.55 19 19V3C19 2.45 18.55 2 18 2H14Z" fill="currentColor"/>
                                    </svg>
                                </i>
                                <span class="item-name">Service Order</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="./diagnosis.html">
                                <i class="icon" data-bs-toggle="tooltip" title="Diagnosis" data-bs-placement="right">
                                    <svg class="icon-20" width="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM19 19H5V5H19V19Z" fill="currentColor"/>
                                        <path d="M11 7H13V17H11V7ZM7 11H17V13H7V11Z" fill="currentColor"/>
                                    </svg>
                                </i>
                                <span class="item-name">Diagnosis</span>
                            </a>
                        </li>
                        <li>
                            <hr class="hr-horizontal">
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="./assigned-services.html">
                                <i class="icon" data-bs-toggle="tooltip" title="Assigned Services" data-bs-placement="right">
                                    <svg class="icon-20" width="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M22 16V4C22 2.9 21.1 2 20 2H8C6.9 2 6 2.9 6 4V16C6 17.1 6.9 18 8 18H20C21.1 18 22 17.1 22 16ZM20 16H8V4H20V16Z" fill="currentColor"/>
                                        <path d="M4 6H2V20C2 21.1 2.9 22 4 22H18V20H4V6Z" fill="currentColor"/>
                                        <path d="M10 6H18V8H10V6ZM10 10H16V12H10V10ZM10 14H18V16H10V14Z" fill="currentColor"/>
                                    </svg>
                                </i>
                                <span class="item-name">Assigned Services</span>
                            </a>
                        </li>
                        <li>
                            <hr class="hr-horizontal">
                        </li>

                        <li class="nav-item static-item">
                            <a class="nav-link static-item disabled text-start" href="#" tabindex="-1">
                                <span class="default-icon">settings</span>
                                <span class="mini-icon" data-bs-toggle="tooltip" title="Elements"
                                      data-bs-placement="right">-</span>
                            </a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link " aria-current="page"
                               href="./helpsupport.html">
                                <i class="icon" data-bs-toggle="tooltip" title="Help & Support" data-bs-placement="right">
                                    <svg class="icon-20" width="20" viewBox="0 0 24 24" fill="none"
                                         xmlns="http://www.w3.org/2000/svg">
                                        <path opacity="0.4"
                                              d="M16.34 1.99976H7.67C4.28 1.99976 2 4.37976 2 7.91976V16.0898C2 19.6198 4.28 21.9998 7.67 21.9998H16.34C19.73 21.9998 22 19.6198 22 16.0898V7.91976C22 4.37976 19.73 1.99976 16.34 1.99976Z"
                                              fill="currentColor"></path>
                                        <path fill-rule="evenodd" clip-rule="evenodd"
                                              d="M11.1246 8.18921C11.1246 8.67121 11.5156 9.06421 11.9946 9.06421C12.4876 9.06421 12.8796 8.67121 12.8796 8.18921C12.8796 7.70721 12.4876 7.31421 12.0046 7.31421C11.5196 7.31421 11.1246 7.70721 11.1246 8.18921ZM12.8696 11.362C12.8696 10.88 12.4766 10.487 11.9946 10.487C11.5126 10.487 11.1196 10.88 11.1196 11.362V15.782C11.1196 16.264 11.5126 16.657 11.9946 16.657C12.4766 16.657 12.8696 16.264 12.8696 15.782V11.362Z"
                                              fill="currentColor"></path>
                                    </svg>
                                </i>
                                <span class="item-name">Help & Support</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link " aria-current="page"
                               href="./setting.html">
                                <i class="icon" data-bs-toggle="tooltip" title="Setting" data-bs-placement="right">
                                    <svg class="icon-20" width="20" viewBox="0 0 24 24" fill="none"
                                         xmlns="http://www.w3.org/2000/svg">
                                        <path
                                                d="M12.0122 14.8299C10.4077 14.8299 9.10986 13.5799 9.10986 12.0099C9.10986 10.4399 10.4077 9.17993 12.0122 9.17993C13.6167 9.17993 14.8839 10.4399 14.8839 12.0099C14.8839 13.5799 13.6167 14.8299 12.0122 14.8299Z"
                                                fill="currentColor"></path>
                                        <path opacity="0.4"
                                              d="M21.2301 14.37C21.036 14.07 20.76 13.77 20.4023 13.58C20.1162 13.44 19.9322 13.21 19.7687 12.94C19.2475 12.08 19.5541 10.95 20.4228 10.44C21.4447 9.87 21.7718 8.6 21.179 7.61L20.4943 6.43C19.9118 5.44 18.6344 5.09 17.6226 5.67C16.7233 6.15 15.5685 5.83 15.0473 4.98C14.8838 4.7 14.7918 4.4 14.8122 4.1C14.8429 3.71 14.7203 3.34 14.5363 3.04C14.1582 2.42 13.4735 2 12.7172 2H11.2763C10.5302 2.02 9.84553 2.42 9.4674 3.04C9.27323 3.34 9.16081 3.71 9.18125 4.1C9.20169 4.4 9.10972 4.7 8.9462 4.98C8.425 5.83 7.27019 6.15 6.38109 5.67C5.35913 5.09 4.09191 5.44 3.49917 6.43L2.81446 7.61C2.23194 8.6 2.55897 9.87 3.57071 10.44C4.43937 10.95 4.74596 12.08 4.23498 12.94C4.06125 13.21 3.87729 13.44 3.59115 13.58C3.24368 13.77 2.93709 14.07 2.77358 14.37C2.39546 14.99 2.4159 15.77 2.79402 16.42L3.49917 17.62C3.87729 18.26 4.58245 18.66 5.31825 18.66C5.66572 18.66 6.0745 18.56 6.40153 18.36C6.65702 18.19 6.96361 18.13 7.30085 18.13C8.31259 18.13 9.16081 18.96 9.18125 19.95C9.18125 21.1 10.1215 22 11.3069 22H12.6968C13.872 22 14.8122 21.1 14.8122 19.95C14.8429 18.96 15.6911 18.13 16.7029 18.13C17.0299 18.13 17.3365 18.19 17.6022 18.36C17.9292 18.56 18.3278 18.66 18.6855 18.66C19.411 18.66 20.1162 18.26 20.4943 17.62L21.2097 16.42C21.5776 15.75 21.6083 14.99 21.2301 14.37Z"
                                              fill="currentColor"></path>
                                    </svg>
                                </i>
                                <span class="item-name">Setting</span>
                            </a>
                        </li>
                        <li>
                            <hr class="hr-horizontal">
                        </li>
                    </ul>

                    <!-- Sidebar Menu End -->
                </div>
            </div>
            <div class="sidebar-footer"></div>
        </aside>
        <main class="main-content">
            <div class="position-relative">
                <nav class="nav navbar navbar-expand-lg navbar-light iq-navbar">
                    <div class="container-fluid navbar-inner">
                        <a href="./home-doctor.html" class="navbar-brand">
                            <!--Logo start-->
                            <div class="logo-main">
                                <div class="logo-normal">
                                    <img class="theme-color-default-img img-fluid" src="../assets/assets/images/logo.png" loading="lazy" height="30" alt="logo">
                                </div>
                                <div class="logo-mini">
                                    <img class="theme-color-default-img img-fluid" src="../assets/assets/images/logo-mini.png" loading="lazy" height="30" alt="logo">
                                </div>
                            </div>
                            <!--logo End-->
                        </a>
                        <div class="sidebar-toggle" data-toggle="sidebar" data-active="true">
                            <i class="icon">
                                <svg class="icon-20" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M4.25 12.2744L19.25 12.2744" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                                    <path d="M10.2998 18.2988L4.2498 12.2748L10.2998 6.24976" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                                </svg>
                            </i>
                        </div>
                        <div class="input-group search-input">
                            <span class="input-group-text" id="search-input">
                                <svg class="icon-20" width="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <circle cx="11.7669" cy="11.7666" r="8.98856" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></circle>
                                    <path d="M18.0186 18.4851L21.5426 22.0001" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                                </svg>
                            </span>
                            <input type="search" class="form-control" placeholder="Search...">
                        </div>
                        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon">
                                <span class="navbar-toggler-line"></span>
                                <span class="navbar-toggler-line"></span>
                                <span class="navbar-toggler-line"></span>
                            </span>
                        </button>
                        <div class="collapse navbar-collapse" id="navbarSupportedContent">
                            <ul class="navbar-nav ms-auto align-items-center navbar-list mb-2 mb-lg-0">
                                <!-- User Profile Dropdown -->
                                <li class="nav-item dropdown">
                                    <a class="nav-link py-0 d-flex align-items-center" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                        <img src="../assets/assets/images/avatars/01.png" alt="User-Profile" class="img-fluid avatar avatar-50 avatar-rounded">
                                        <div class="caption ms-3 d-none d-md-block">
                                            <h6 class="mb-0 caption-title">Dr. Austin Robertson</h6>
                                            <p class="mb-0 caption-sub-title">Doctor</p>
                                        </div>
                                    </a>
                                    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
                                        <li>
                                            <a class="dropdown-item" href="./profile-doctor.html">Profile</a>
                                        </li>
                                        <li>
                                            <a class="dropdown-item" href="./user-privacy-setting.html">Privacy Setting</a>
                                        </li>
                                        <li>
                                            <hr class="dropdown-divider">
                                        </li>
                                        <li>
                                            <a class="dropdown-item" href="#" id="logoutBtn">Logout</a>
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </div>
                </nav>
            </div>
            <div class="content-inner container-fluid pb-0" id="page_layout">
                <!-- Modern Breadcrumb -->
                <nav class="modern-breadcrumb" aria-label="breadcrumb">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item">
                            <a href="examination.html">
                                <i class="fas fa-arrow-left me-2"></i>
                                Back to Examination
                            </a>
                        </li>
                        <li class="breadcrumb-item active">Service Order Management</li>
                    </ol>
                </nav>

                <!-- Page Header -->
                <div class="page-header">
                    <h1>
                        <i class="fas fa-stethoscope me-3"></i>
                        Service Order Management
                    </h1>
                    <p>Manage medical service orders and track patient treatments efficiently</p>
                </div>

                <!-- Alert Container -->
                <div id="alertContainer"></div>

                <!-- Quick Actions Grid -->
                <div class="action-grid">
                    <div class="action-card">
                        <div class="action-icon primary">
                            <i class="fas fa-plus"></i>
                        </div>
                        <div class="action-title">Create New Order</div>
                        <div class="action-desc">Start a new service order for patients</div>
                        <button class="btn-modern btn-primary-modern" onclick="loadServiceOrderWaitlist()">
                            <i class="fas fa-plus-circle"></i>
                            New Order
                        </button>
                    </div>

                    <div class="action-card">
                        <div class="action-icon success">
                            <i class="fas fa-history"></i>
                        </div>
                        <div class="action-title">My Service Orders</div>
                        <div class="action-desc">View your service order history</div>
                        <button class="btn-modern btn-success-modern" onclick="loadMyServiceOrders()">
                            <i class="fas fa-user-md"></i>
                            My Orders
                        </button>
                    </div>

                    <div class="action-card">
                        <div class="action-icon info">
                            <i class="fas fa-search"></i>
                        </div>
                        <div class="action-title">Search Orders</div>
                        <div class="action-desc">Find specific service orders</div>
                        <button class="btn-modern btn-info-modern" onclick="document.getElementById('searchSection').scrollIntoView({behavior: 'smooth'})">
                            <i class="fas fa-search-plus"></i>
                            Search
                        </button>
                    </div>

                    <div class="action-card">
                        <div class="action-icon warning">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="action-title">Statistics</div>
                        <div class="action-desc">View service order analytics</div>
                        <button class="btn-modern btn-warning-modern" onclick="showStatistics()">
                            <i class="fas fa-analytics"></i>
                            Analytics
                        </button>
                    </div>
                </div>

                <!-- Service Order Waitlist -->
                <div class="modern-card">
                    <div class="card-header">
                        <h5 class="card-title-modern">
                            <i class="fas fa-clipboard-list"></i>
                            Service Order Waitlist
                        </h5>
                    </div>
                    <div class="card-body">
                        <!-- Loading Spinner -->
                        <div id="loadingSpinner" class="loading-container">
                            <div class="modern-spinner"></div>
                            <span>Loading service order waitlist...</span>
                        </div>

                        <!-- Table Container -->
                        <div id="tableContainer" class="modern-table" style="display: none;">
                            <table class="table table-hover">
                                <thead>
                                    <tr>
                                        <th><i class="fas fa-hashtag me-2"></i>#</th>
                                        <th><i class="fas fa-user me-2"></i>Patient</th>
                                        <th><i class="fas fa-door-open me-2"></i>Room</th>
                                        <th><i class="fas fa-calendar-plus me-2"></i>Registered</th>
                                        <th><i class="fas fa-hourglass-start me-2"></i>Est. Time</th>
                                        <th><i class="fas fa-calendar-check me-2"></i>Appointment</th>
                                        <th><i class="fas fa-info-circle me-2"></i>Status</th>
                                        <th><i class="fas fa-vial me-2"></i>Visit Type</th>
                                        <th><i class="fas fa-sticky-note me-2"></i>Note</th>
                                        <th><i class="fas fa-clock me-2"></i>Shift</th>
                                        <th><i class="fas fa-cogs me-2"></i>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="serviceOrderTableBody">
                                    <!-- Data will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Search Section -->
                <div id="searchSection" class="search-section">
                    <h5 class="card-title-modern">
                        <i class="fas fa-search"></i>
                        Advanced Search
                    </h5>
                    
                    <div class="search-grid">
                        <!-- Search by Order ID -->
                        <div class="search-item">
                            <div class="search-label">
                                <i class="fas fa-hashtag"></i>
                                Search by Order ID
                            </div>
                            <div class="search-input-group">
                                <input type="number" class="form-control" id="serviceOrderIdInput" 
                                       placeholder="Enter Order ID">
                                <button class="search-btn" onclick="searchServiceOrder()">
                                    <i class="fas fa-search"></i>
                                </button>
                            </div>
                        </div>

                        <!-- Search by Medicine Record -->
                        <div class="search-item">
                            <div class="search-label">
                                <i class="fas fa-file-medical"></i>
                                Medicine Record ID
                            </div>
                            <div class="search-input-group">
                                <input type="number" class="form-control" id="medicineRecordIdInput" 
                                       placeholder="Enter Record ID">
                                <button class="search-btn" onclick="searchByMedicineRecord()">
                                    <i class="fas fa-search"></i>
                                </button>
                            </div>
                        </div>

                        <!-- Search by Patient Name -->
                        <div class="search-item">
                            <div class="search-label">
                                <i class="fas fa-user"></i>
                                Patient Name
                            </div>
                            <div class="search-input-group">
                                <input type="text" class="form-control" id="patientNameInput" 
                                       placeholder="Enter Patient Name">
                                <button class="search-btn" onclick="searchByPatientName()">
                                    <i class="fas fa-search"></i>
                                </button>
                            </div>
                        </div>

                        <!-- Quick Actions -->
                        <div class="search-item">
                            <div class="search-label">
                                <i class="fas fa-bolt"></i>
                                Quick Actions
                            </div>
                            <div class="d-flex flex-column gap-2">
                                <button class="btn-modern btn-outline-modern" onclick="loadDoctorHistory()">
                                    <i class="fas fa-history"></i>
                                    My History
                                </button>
                                <button class="btn-modern btn-outline-modern" onclick="refreshAllData()">
                                    <i class="fas fa-sync-alt"></i>
                                    Refresh
                                </button>
                            </div>
                        </div>
                    </div>



                <!-- Service Order Details Section -->
                <div id="serviceOrderDetailsSection" class="modern-card" style="display: none;">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h5 class="card-title-modern">
                            <i class="fas fa-file-medical-alt"></i>
                            Service Order Details
                        </h5>
                        <button class="btn-modern btn-outline-modern" onclick="printServiceOrder()">
                            <i class="fas fa-print"></i>
                            Print
                        </button>
                    </div>
                    <div class="card-body">
                        <!-- Loading Spinner -->
                        <div id="detailsLoadingSpinner" class="loading-container">
                            <div class="modern-spinner"></div>
                            <span>Loading order details...</span>
                        </div>

                        <!-- Details Content -->
                        <div id="detailsContent" style="display: none;">
                            <div class="row mb-4">
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label class="form-label fw-bold">Order ID:</label>
                                        <span id="detailOrderId" class="ms-2">-</span>
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label fw-bold">Patient:</label>
                                        <span id="detailPatientName" class="ms-2">-</span>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label class="form-label fw-bold">Doctor:</label>
                                        <span id="detailDoctorName" class="ms-2">-</span>
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label fw-bold">Order Date:</label>
                                        <span id="detailOrderDate" class="ms-2">-</span>
                                    </div>
                                </div>
                            </div>

                            <h6 class="mb-3">
                                <i class="fas fa-list me-2"></i>
                                Services Ordered
                            </h6>
                            <div id="detailServicesList" class="mb-4">
                                <!-- Services list will be populated here -->
                            </div>

                            <div class="text-end">
                                <div class="d-inline-block bg-success text-white px-4 py-2 rounded-3 fw-bold">
                                    Total Amount: <span id="detailTotalAmount">0</span> VND
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Service Order History Section -->
                <div id="serviceOrderHistorySection" class="modern-card" style="display: none;">
                    <div class="card-header">
                        <h5 class="card-title-modern" id="historyTitle">
                            <i class="fas fa-history"></i>
                            Service Order History
                        </h5>
                    </div>
                    <div class="card-body">
                        <!-- Loading Spinner -->
                        <div id="historyLoadingSpinner" class="loading-container">
                            <div class="modern-spinner"></div>
                            <span>Loading history...</span>
                        </div>

                        <!-- History Content -->
                        <div id="historyContent" style="display: none;">
                            <div id="historyList">
                                <!-- History items will be populated here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Scripts -->
        <script src="../assets/assets/js/core/libs.min.js"></script>
        <script src="../assets/assets/js/core/external.min.js"></script>
        <script src="../assets/assets/js/kivicare.js"></script>
        <script src="../assets/jslogic/service-order.js"></script>
        
        <script>
            // Ensure all required functions are available immediately
            window.loadServiceOrderWaitlist = window.loadServiceOrderWaitlist || function() {
                console.log('Loading service order waitlist...');
                // Will be defined by service-order.js
            };
            
            window.loadMyServiceOrders = window.loadMyServiceOrders || function() {
                console.log('Loading my service orders...');
                // Will be defined by service-order.js
            };
            
            window.searchServiceOrder = window.searchServiceOrder || function() {
                console.log('Searching service order...');
                // Will be defined by service-order.js
            };
            
            window.searchByMedicineRecord = window.searchByMedicineRecord || function() {
                console.log('Searching by medicine record...');
                // Will be defined by service-order.js
            };
            
            window.searchByPatientName = window.searchByPatientName || function() {
                console.log('Searching by patient name...');
                // Will be defined by service-order.js
            };
            
            window.loadDoctorHistory = window.loadDoctorHistory || function() {
                console.log('Loading doctor history...');
                // Will be defined by service-order.js
            };
            
            window.demoGetServiceOrderDetails = window.demoGetServiceOrderDetails || function() {
                console.log('Demo: Get service order details');
                // Will be defined by service-order.js
            };
            
            window.demoGetPatientHistory = window.demoGetPatientHistory || function() {
                console.log('Demo: Get patient history');
                // Will be defined by service-order.js
            };
            
            window.demoGetDoctorHistory = window.demoGetDoctorHistory || function() {
                console.log('Demo: Get doctor history');
                // Will be defined by service-order.js
            };
            
            window.demoSearchByPatientName = window.demoSearchByPatientName || function() {
                console.log('Demo: Search by patient name');
                // Will be defined by service-order.js
            };
            
            window.runDebugTests = window.runDebugTests || function() {
                console.log('Running debug tests...');
                // Will be defined by service-order.js
            };
            
            window.printServiceOrder = window.printServiceOrder || function() {
                console.log('Printing service order...');
                window.print();
            };
            
            // Additional UI Functions
            function showStatistics() {
                // Create a beautiful statistics modal
                const modal = document.createElement('div');
                modal.className = 'statistics-modal';
                modal.innerHTML = `
                    <div class="statistics-content">
                        <div class="statistics-header">
                            <h4><i class="fas fa-chart-line me-2"></i>Service Order Statistics</h4>
                            <button class="btn-close-stats" onclick="this.parentElement.parentElement.parentElement.remove()">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        <div class="statistics-body">
                            <div class="stats-grid">
                                <div class="stat-card primary">
                                    <div class="stat-icon"><i class="fas fa-file-medical"></i></div>
                                    <div class="stat-info">
                                        <h3>24</h3>
                                        <p>Total Orders Today</p>
                                    </div>
                                </div>
                                <div class="stat-card success">
                                    <div class="stat-icon"><i class="fas fa-check-circle"></i></div>
                                    <div class="stat-info">
                                        <h3>18</h3>
                                        <p>Completed Orders</p>
                                    </div>
                                </div>
                                <div class="stat-card warning">
                                    <div class="stat-icon"><i class="fas fa-clock"></i></div>
                                    <div class="stat-info">
                                        <h3>6</h3>
                                        <p>Pending Orders</p>
                                    </div>
                                </div>
                                <div class="stat-card info">
                                    <div class="stat-icon"><i class="fas fa-dollar-sign"></i></div>
                                    <div class="stat-info">
                                        <h3>2.4M</h3>
                                        <p>Revenue (VND)</p>
                                    </div>
                                </div>
                            </div>
                            <div class="chart-placeholder">
                                <i class="fas fa-chart-area fa-3x"></i>
                                <p>Interactive charts coming soon!</p>
                            </div>
                        </div>
                    </div>
                `;
                
                // Add styles for the modal
                const style = document.createElement('style');
                style.textContent = `
                    .statistics-modal {
                        position: fixed;
                        top: 0;
                        left: 0;
                        width: 100%;
                        height: 100%;
                        background: rgba(0,0,0,0.7);
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        z-index: 1000;
                        animation: fadeIn 0.3s ease;
                    }
                    
                    .statistics-content {
                        background: white;
                        border-radius: 16px;
                        width: 90%;
                        max-width: 800px;
                        max-height: 90vh;
                        overflow-y: auto;
                        animation: slideUp 0.3s ease;
                    }
                    
                    .statistics-header {
                        padding: 2rem;
                        border-bottom: 1px solid #e9ecef;
                        display: flex;
                        justify-content: space-between;
                        align-items: center;
                        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                        color: white;
                        border-radius: 16px 16px 0 0;
                    }
                    
                    .btn-close-stats {
                        background: none;
                        border: none;
                        color: white;
                        font-size: 1.2rem;
                        cursor: pointer;
                        padding: 0.5rem;
                        border-radius: 50%;
                        transition: background 0.3s;
                    }
                    
                    .btn-close-stats:hover {
                        background: rgba(255,255,255,0.2);
                    }
                    
                    .statistics-body {
                        padding: 2rem;
                    }
                    
                    .stats-grid {
                        display: grid;
                        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                        gap: 1.5rem;
                        margin-bottom: 2rem;
                    }
                    
                    .stat-card {
                        background: white;
                        border-radius: 12px;
                        padding: 1.5rem;
                        display: flex;
                        align-items: center;
                        gap: 1rem;
                        box-shadow: 0 4px 15px rgba(0,0,0,0.1);
                        border-left: 4px solid;
                    }
                    
                    .stat-card.primary { border-left-color: #667eea; }
                    .stat-card.success { border-left-color: #11998e; }
                    .stat-card.warning { border-left-color: #f093fb; }
                    .stat-card.info { border-left-color: #3182ce; }
                    
                    .stat-icon {
                        font-size: 2rem;
                        color: #667eea;
                    }
                    
                    .stat-info h3 {
                        margin: 0;
                        font-size: 2rem;
                        font-weight: 700;
                        color: #2d3748;
                    }
                    
                    .stat-info p {
                        margin: 0;
                        color: #718096;
                        font-size: 0.9rem;
                    }
                    
                    .chart-placeholder {
                        text-align: center;
                        padding: 3rem;
                        color: #718096;
                        background: #f8f9fa;
                        border-radius: 12px;
                    }
                    
                    @keyframes fadeIn {
                        from { opacity: 0; }
                        to { opacity: 1; }
                    }
                    
                    @keyframes slideUp {
                        from { transform: translateY(30px); opacity: 0; }
                        to { transform: translateY(0); opacity: 1; }
                    }
                `;
                
                document.head.appendChild(style);
                document.body.appendChild(modal);
            }
            
            function refreshAllData() {
                // Show loading animation
                const loadingSpinner = document.getElementById('loadingSpinner');
                if (loadingSpinner) {
                    loadingSpinner.style.display = 'flex';
                }
                
                // Add smooth refresh animation
                document.body.style.opacity = '0.8';
                setTimeout(() => {
                    location.reload();
                }, 500);
            }
            
            // Enhanced smooth scrolling and animations
            document.addEventListener('DOMContentLoaded', function() {
                // Add smooth scrolling to all internal links
                document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                    anchor.addEventListener('click', function (e) {
                        e.preventDefault();
                        const target = document.querySelector(this.getAttribute('href'));
                        if (target) {
                            target.scrollIntoView({
                                behavior: 'smooth',
                                block: 'start'
                            });
                        }
                    });
                });
                
                // Add entrance animations to cards
                const observerOptions = {
                    threshold: 0.1,
                    rootMargin: '0px 0px -50px 0px'
                };
                
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.style.animation = 'slideInUp 0.6s ease forwards';
                        }
                    });
                }, observerOptions);
                
                // Observe all cards
                document.querySelectorAll('.modern-card, .action-card, .search-section').forEach(card => {
                    card.style.opacity = '0';
                    card.style.transform = 'translateY(30px)';
                    observer.observe(card);
                });
                
                // Add CSS for entrance animations
                const animationStyle = document.createElement('style');
                animationStyle.textContent = `
                    @keyframes slideInUp {
                        to {
                            opacity: 1;
                            transform: translateY(0);
                        }
                    }
                    
                    .btn-modern:active {
                        transform: translateY(0) scale(0.98);
                    }
                    
                    .action-card:hover .action-icon {
                        transform: scale(1.1) rotate(5deg);
                    }
                    
                    .search-item:hover .search-label i {
                        transform: scale(1.2);
                        color: #667eea;
                    }
                `;
                document.head.appendChild(animationStyle);
                
                // Add keyboard shortcuts
                document.addEventListener('keydown', function(e) {
                    // Ctrl + F to focus search
                    if (e.ctrlKey && e.key === 'f') {
                        e.preventDefault();
                        const searchInput = document.getElementById('serviceOrderIdInput');
                        if (searchInput) {
                            searchInput.focus();
                            document.getElementById('searchSection').scrollIntoView({
                                behavior: 'smooth'
                            });
                        }
                    }
                    
                    // Ctrl + R to refresh
                    if (e.ctrlKey && e.key === 'r') {
                        e.preventDefault();
                        refreshAllData();
                    }
                });
                
                // Add tooltips to buttons
                document.querySelectorAll('.btn-modern, .btn-demo').forEach(btn => {
                    btn.addEventListener('mouseenter', function() {
                        const tooltip = document.createElement('div');
                        tooltip.className = 'tooltip-modern';
                        tooltip.textContent = this.getAttribute('title') || this.textContent;
                        tooltip.style.cssText = `
                            position: absolute;
                            background: #2d3748;
                            color: white;
                            padding: 0.5rem 1rem;
                            border-radius: 6px;
                            font-size: 0.8rem;
                            white-space: nowrap;
                            z-index: 1000;
                            transform: translateX(-50%);
                            opacity: 0;
                            transition: opacity 0.3s;
                            pointer-events: none;
                        `;
                        
                        document.body.appendChild(tooltip);
                        
                        const rect = this.getBoundingClientRect();
                        tooltip.style.left = rect.left + rect.width / 2 + 'px';
                        tooltip.style.top = rect.top - tooltip.offsetHeight - 10 + 'px';
                        
                        setTimeout(() => tooltip.style.opacity = '1', 100);
                        
                        this.addEventListener('mouseleave', function() {
                            tooltip.remove();
                        }, { once: true });
                    });
                });
            });
        </script>
        
        <!-- Include context path for proper navigation -->
        <script src="../assets/js/context-path.js"></script>
        
        <!-- Library Bundle Script -->
        <script src="../assets/assets/js/core/libs.min.js"></script>
        <script src="../assets/assets/js/core/external.min.js"></script>
        <script src="../assets/assets/js/charts/widgetcharts.js"></script>
        <script src="../assets/assets/js/kivicare.js"></script>
        <script src="../assets/assets/js/plugins/prism.mini.js"></script>
        <script src="../assets/assets/js/plugins/slider-tabs.js"></script>
        <script src="../assets/assets/js/iqonic-script/iqonic-script.js"></script>
        
        <!-- Service Order logic -->
        <script src="../assets/jslogic/service-order.js"></script>
            </div>
        </main>
        </div>
    </body>
</html> 