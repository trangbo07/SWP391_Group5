<!doctype html>
<html lang="en" class="theme-fs-sm" data-bs-theme="light" data-bs-theme-color="default" dir="ltr">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title data-setting="app_name" data-rightJoin=" Clinic And Patient Management Dashboard">KiviCare Service Results Management</title>
        <meta name="description" content="KiviCare is a revolutionary Bootstrap Admin Dashboard Template and UI Components Library.">
        <meta name="keywords" content="premium, admin, dashboard, template, bootstrap 5, clean ui, Kivicare, admin dashboard,responsive dashboard, optimized dashboard">
        <meta name="author" content="Iqonic Design">
        <meta name="DC.title" content="KiviCare Service Results Management">
        
        <!-- Config Options -->
        <meta name="setting_options" content='{&quot;saveLocal&quot;:&quot;sessionStorage&quot;,&quot;storeKey&quot;:&quot;kivicare&quot;,&quot;setting&quot;:{&quot;app_name&quot;:{&quot;value&quot;:&quot;KiviCare&quot;},&quot;theme_scheme_direction&quot;:{&quot;value&quot;:&quot;ltr&quot;},&quot;theme_scheme&quot;:{&quot;value&quot;:&quot;light&quot;},&quot;theme_style_appearance&quot;:{&quot;value&quot;:[&quot;theme-default&quot;]},&quot;theme_color&quot;:{&quot;value&quot;:&quot;default&quot;},&quot;theme_transition&quot;:{&quot;value&quot;:&quot;theme-with-animation&quot;},&quot;theme_font_size&quot;:{&quot;value&quot;:&quot;theme-fs-sm&quot;},&quot;page_layout&quot;:{&quot;value&quot;:&quot;container-fluid&quot;},&quot;header_navbar&quot;:{&quot;value&quot;:&quot;default&quot;},&quot;header_banner&quot;:{&quot;value&quot;:&quot;default&quot;},&quot;sidebar_color&quot;:{&quot;value&quot;:&quot;sidebar-white&quot;},&quot;card_color&quot;:{&quot;value&quot;:&quot;card-default&quot;},&quot;sidebar_type&quot;:{&quot;value&quot;:[]},&quot;sidebar_menu_style&quot;:{&quot;value&quot;:&quot;text-hover&quot;},&quot;footer&quot;:{&quot;value&quot;:&quot;default&quot;},&quot;body_font_family&quot;:{&quot;value&quot;:null},&quot;heading_font_family&quot;:{&quot;value&quot;:null}}}'>
        
        <!-- Google Font Api KEY-->
        <meta name="google_font_api" content="AIzaSyBG58yNdAjc20_8jAvLNSVi9E4Xhwjau_k">
        
        <!-- Favicon -->
        <link rel="shortcut icon" href="../assets/assets/images/favicon.ico" />

        <!-- Library / Plugin Css Build -->
        <link rel="stylesheet" href="../assets/assets/css/core/libs.min.css" />

        <!-- flaticon css -->
        <link rel="stylesheet" href="../assets/assets/vendor/flaticon/css/flaticon.css" />

        <!-- font-awesome css -->
        <link rel="stylesheet" href="../assets/assets/vendor/font-awesome/css/all.min.css" />

        <!-- Flatpickr css -->
        <link rel="stylesheet" href="../assets/assets/vendor/flatpickr/dist/flatpickr.min.css" />

        <link rel="stylesheet" href="../assets/assets/vendor/sheperd/dist/css/sheperd.css">

        <!-- Sweetalert2 css -->
        <link rel="stylesheet" href="../assets/assets/vendor/sweetalert2/dist/sweetalert2.min.css"/>

        <!-- Kivicare Design System Css -->
        <link rel="stylesheet" href="../assets/assets/css/kivicare.min.css?v=1.4.1" />

        <!-- Custom Css -->
        <link rel="stylesheet" href="../assets/assets/css/custom.min.css?v=1.4.1" />

        <!-- RTL Css -->
        <link rel="stylesheet" href="../assets/assets/css/rtl.min.css?v=1.4.1"/>

        <!-- Customizer Css -->
        <link rel="stylesheet" href="../assets/assets/css/customizer.min.css?v=1.4.1"/>

        <!-- Google Font -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;400;500;600;700&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;1,300;1,400;1,500&display=swap" rel="stylesheet">
        
        <style>
            /* Print styles for medical test results */
            @media print {
                .no-print, .no-print * {
                    display: none !important;
                }
                .print-only {
                    display: block !important;
                }
                .print-form {
                    width: 700px !important;
                    margin: 0 auto !important;
                    font-size: 12px !important;
                    line-height: 1.4 !important;
                    color: #000 !important;
                    background: white !important;
                }
                .print-form * {
                    color: #000 !important;
                    background: white !important;
                }
                .print-form table {
                    border-collapse: collapse !important;
                    width: 100% !important;
                }
                .print-form td, .print-form th {
                    border: 1px solid #000 !important;
                    padding: 8px !important;
                    text-align: left !important;
                }
                .print-form .header-section {
                    border: 2px solid #1e3a8a !important;
                    margin-bottom: 15px !important;
                    padding: 15px !important;
                }
                .print-form .logo-section {
                    border-bottom: 1px solid #1e3a8a !important;
                    padding-bottom: 10px !important;
                    margin-bottom: 10px !important;
                }
            }
            
            .print-only {
                display: none;
            }
            
            /* Custom styles for service results */
            .status-badge {
                padding: 0.25rem 0.75rem;
                border-radius: 50px;
                font-size: 0.75rem;
                font-weight: 600;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }
            
            .status-complete {
                background-color: #d4edda;
                color: #155724;
                border: 1px solid #c3e6cb;
            }
            
            .status-pending {
                background-color: #fef7e0;
                color: #744210;
                border: 1px solid #f6e05e;
            }
            
            .result-item {
                transition: all 0.3s ease;
                border: 1px solid #dee2e6;
                border-radius: 8px;
                margin-bottom: 1rem;
                padding: 1rem;
            }
            
            .result-item:hover {
                box-shadow: 0 4px 12px rgba(0,0,0,0.1);
                transform: translateY(-2px);
            }
            
            .service-name {
                font-weight: 600;
                color: #495057;
                margin-bottom: 0.5rem;
            }
            
            .service-description {
                color: #6c757d;
                font-size: 0.9rem;
                margin-bottom: 1rem;
            }
            
            .awaiting-results {
                padding: 2rem;
                background: linear-gradient(135deg, #f8f9ff 0%, #e3f2fd 100%);
                border-radius: 8px;
                border: 2px dashed #3182ce;
                text-align: center;
                color: #2c5282;
            }
            
            .awaiting-results i {
                font-size: 2rem;
                color: #3182ce;
                margin-bottom: 0.5rem;
            }
        </style>
    </head>
    
    <body class="">
        <!-- loader Start -->
        <div id="loading">
            <div class="loader simple-loader">
                <div class="loader-body">
                    <img src="../assets/assets/images/loader.gif" alt="loader" class="light-loader img-fluid" width="200">
                </div>
            </div>
        </div>
        <!-- loader END -->
        
        <aside class="sidebar sidebar-base" id="first-tour" data-toggle="main-sidebar" data-sidebar="responsive">
            <div class="sidebar-header d-flex align-items-center justify-content-start position-relative">
                <a href="./home-doctor.html" class="navbar-brand">
                    <!--Logo start-->
                    <div class="logo-main">
                        <img class="logo-normal img-fluid" src="../assets/assets/images/logo.png" height="30" alt="logo">
                        <img class="logo-normal dark-normal img-fluid" src="../assets/assets/images/logo-dark.png" height="30" alt="logo">
                        <img class="logo-normal white-normal img-fluid" src="../assets/assets/images/logo-white.png" height="30" alt="logo">
                        <img class="logo-mini img-fluid" src="../assets/assets/images/logo-mini.png" height="30" alt="logo">
                        <img class="logo-mini dark-mini img-fluid" src="../assets/assets/images/logo-mini-dark.png" height="30" alt="logo">
                        <img class="logo-mini white-mini img-fluid" src="../assets/assets/images/logo-mini-white.png" height="30" alt="logo">
                    </div>
                    <!--logo End-->
                </a>
                <div class="sidebar-toggle" data-toggle="sidebar" data-active="true">
                    <i class="icon">
                        <svg class="icon-20 icon-arrow" width="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M15.5 19L8.5 12L15.5 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                        </svg>
                    </i>
                </div>
            </div>
            <div class="sidebar-body pt-0 data-scrollbar">
                <div class="sidebar-list">
                    <!-- Sidebar Menu Start -->
                    <ul class="navbar-nav iq-main-menu" id="sidebar-menu">
                        <li class="nav-item static-item">
                            <a class="nav-link static-item disabled text-start" href="#" tabindex="-1">
                                <span class="default-icon">Home</span>
                                <span class="mini-icon" data-bs-toggle="tooltip" title="Home" data-bs-placement="right">-</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="collapse" href="#dashboard" role="button" aria-expanded="false">
                                <i class="icon" data-bs-toggle="tooltip" title="Dashboard" data-bs-placement="right">
                                    <svg width="20" class="icon-20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path opacity="0.4" d="M16.0756 2H19.4616C20.8639 2 22.0001 3.14585 22.0001 4.55996V7.97452C22.0001 9.38864 20.8639 10.5345 19.4616 10.5345H16.0756C14.6734 10.5345 13.5371 9.38864 13.5371 7.97452V4.55996C13.5371 3.14585 14.6734 2 16.0756 2Z" fill="currentColor"></path>
                                        <path fill-rule="evenodd" clip-rule="evenodd" d="M4.53852 2H7.92449C9.32676 2 10.463 3.14585 10.463 4.55996V7.97452C10.463 9.38864 9.32676 10.5345 7.92449 10.5345H4.53852C3.13626 10.5345 2 9.38864 2 7.97452V4.55996C2 3.14585 3.13626 2 4.53852 2ZM4.53852 13.4655H7.92449C9.32676 13.4655 10.463 14.6114 10.463 16.0255V19.44C10.463 20.8532 9.32676 22 7.92449 22H4.53852C3.13626 22 2 20.8532 2 19.44V16.0255C2 14.6114 3.13626 13.4655 4.53852 13.4655ZM19.4615 13.4655H16.0755C14.6732 13.4655 13.537 14.6114 13.537 16.0255V19.44C13.537 20.8532 14.6732 22 16.0755 22H19.4615C20.8637 22 22 20.8532 22 19.44V16.0255C22 14.6114 20.8637 13.4655 19.4615 13.4655Z" fill="currentColor"></path>
                                    </svg>
                                </i>
                                <span class="item-name">Dashboard</span>
                                <i class="right-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" class="icon-18" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                                    </svg>
                                </i>
                            </a>
                            <ul class="sub-nav collapse" id="dashboard" data-bs-parent="#sidebar-menu">
                                <li class="nav-item">
                                    <a class="nav-link" href="./home-doctor.html">
                                        <i class="icon" data-bs-toggle="tooltip" title="Dashboard" data-bs-placement="right">
                                            <svg class="icon-20" width="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M9.14373 20.7821V17.7152C9.14372 16.9381 9.77567 16.3067 10.5584 16.3018H13.4326C14.2189 16.3018 14.8563 16.9346 14.8563 17.7152V20.7732C14.8562 21.4473 15.404 21.9951 16.0829 22H18.0438C18.9596 22.0023 19.8388 21.6428 20.4872 21.0007C21.1356 20.3586 21.5 19.4868 21.5 18.5775V9.86585C21.5 9.13139 21.1721 8.43471 20.6046 7.9635L13.943 2.67427C12.7785 1.74912 11.1154 1.77901 9.98539 2.74538L3.46701 7.9635C2.87274 8.42082 2.51755 9.11956 2.5 9.86585V18.5686C2.5 20.4637 4.04738 22 5.95617 22H7.87229C8.19917 22.0023 8.51349 21.8751 8.74547 21.6464C8.97746 21.4178 9.10793 21.1067 9.10792 20.7821H9.14373Z" fill="currentColor"></path>
                                            </svg>
                                        </i>
                                        <i class="sidenav-mini-icon" data-bs-toggle="tooltip" title="Doctor Dashboard" data-bs-placement="right">DD</i>
                                        <span class="item-name">Doctor Dashboard</span>
                                    </a>
                                </li>
                            </ul>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="./appointment-doctor.html">
                                <i class="icon" data-bs-toggle="tooltip" title="Appointment" data-bs-placement="right">
                                    <svg class="icon-20" width="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM19 19H5V8H19V19ZM7 10H12V15H7V10Z" fill="currentColor"/>
                                    </svg>
                                </i>
                                <span class="item-name">Appointment</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="./examination.html">
                                <i class="icon" data-bs-toggle="tooltip" title="Wait List" data-bs-placement="right">
                                    <svg class="icon-20" width="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M14 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.89 22 5.99 22H18C19.1 22 20 21.1 20 20V8L14 2ZM18 20H6V4H13V9H18V20Z" fill="currentColor"/>
                                    </svg>
                                </i>
                                <span class="item-name">Wait List</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="./service-order.html">
                                <i class="icon" data-bs-toggle="tooltip" title="Service Order" data-bs-placement="right">
                                    <svg class="icon-20" width="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M9 16.17L4.83 12L3.41 13.41L9 19L21 7L19.59 5.59L9 16.17Z" fill="currentColor"/>
                                        <path d="M14 2C13.45 2 13 2.45 13 3S13.45 4 14 4H16V6H13C12.45 6 12 6.45 12 7S12.45 8 13 8H16V10H14C13.45 10 13 10.45 13 11S13.45 12 14 12H16V14H13C12.45 14 12 14.45 12 15S12.45 16 13 16H16V18H14C13.45 18 13 18.45 13 19S13.45 20 14 20H18C18.55 20 19 19.55 19 19V3C19 2.45 18.55 2 18 2H14Z" fill="currentColor"/>
                                    </svg>
                                </i>
                                <span class="item-name">Service Order</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="./diagnosis.html">
                                <i class="icon" data-bs-toggle="tooltip" title="Diagnosis" data-bs-placement="right">
                                    <svg class="icon-20" width="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM19 19H5V5H19V19Z" fill="currentColor"/>
                                        <path d="M11 7H13V17H11V7ZM7 11H17V13H7V11Z" fill="currentColor"/>
                                    </svg>
                                </i>
                                <span class="item-name">Diagnosis</span>
                            </a>
                        </li>
                        <li>
                            <hr class="hr-horizontal">
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="./assigned-services.html">
                                <i class="icon" data-bs-toggle="tooltip" title="Assigned Services" data-bs-placement="right">
                                    <svg class="icon-20" width="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M22 16V4C22 2.9 21.1 2 20 2H8C6.9 2 6 2.9 6 4V16C6 17.1 6.9 18 8 18H20C21.1 18 22 17.1 22 16ZM20 16H8V4H20V16Z" fill="currentColor"/>
                                        <path d="M4 6H2V20C2 21.1 2.9 22 4 22H18V20H4V6Z" fill="currentColor"/>
                                        <path d="M10 6H18V8H10V6ZM10 10H16V12H10V10ZM10 14H18V16H10V14Z" fill="currentColor"/>
                                    </svg>
                                </i>
                                <span class="item-name">Assigned Services</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="./service-results.html">
                                <i class="icon" data-bs-toggle="tooltip" title="Service Results" data-bs-placement="right">
                                    <svg class="icon-20" width="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                </i>
                                <span class="item-name">Service Results</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </aside>
        
        <main class="main-content">
            <div class="position-relative iq-banner">
                <div class="iq-navbar-header" style="height: 215px;">
                    <div class="container-fluid iq-container">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="flex-wrap d-flex justify-content-between align-items-center">
                                    <div>
                                        <h1><i class="fas fa-flask me-3"></i>Service Results Management</h1>
                                        <p>View and manage test results for patients awaiting results</p>
                                    </div>
                                    <div class="d-flex gap-2">
                                        <button class="btn btn-primary" onclick="loadServiceResults()">
                                            <i class="fas fa-refresh me-2"></i>Refresh Results
                                        </button>
                                        <button class="btn btn-outline-primary" onclick="showStatistics()">
                                            <i class="fas fa-chart-bar me-2"></i>Statistics
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="iq-header-img">
                    </div>
                </div>
            </div>
            
            <div class="content-inner pb-0">
                <div class="container-fluid">
                    <!-- Alert Container -->
                    <div id="alertContainer" class="mb-3"></div>
                    
                    <!-- Service Results Overview -->
                    <div class="row">
                        <div class="col-md-12">
                            <div class="card">
                                <div class="card-header d-flex justify-content-between align-items-center">
                                    <div class="header-title">
                                        <h4 class="card-title"><i class="fas fa-vials me-2"></i>My Patients' Test Results</h4>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <!-- Loading Spinner -->
                                    <div id="loadingSpinner" class="text-center py-5" style="display: none;">
                                        <div class="spinner-border text-primary" role="status">
                                            <span class="visually-hidden">Loading...</span>
                                        </div>
                                        <p class="mt-3 text-muted">Loading test results...</p>
                                    </div>
                                    
                                    <!-- Results Table Container -->
                                    <div id="resultsTableContainer" style="display: none;">
                                        <div class="table-responsive">
                                            <table class="table table-striped table-hover">
                                                <thead class="table-dark">
                                                    <tr>
                                                        <th scope="col">#</th>
                                                        <th scope="col">Patient Information</th>
                                                        <th scope="col">Service Order</th>
                                                        <th scope="col">Order Date</th>
                                                        <th scope="col">Test Progress</th>
                                                        <th scope="col">Status</th>
                                                        <th scope="col">Actions</th>
                                                    </tr>
                                                </thead>
                                                <tbody id="resultsTableBody">
                                                    <!-- Results will be populated here -->
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Detailed Results Section -->
                    <div class="row" id="detailedResultsSection" style="display: none;">
                        <div class="col-md-12">
                            <div class="card">
                                <div class="card-header d-flex justify-content-between align-items-center">
                                    <div class="header-title">
                                        <h4 class="card-title"><i class="fas fa-microscope me-2"></i>Detailed Test Results</h4>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div id="detailedResultsContent">
                                        <!-- Detailed results will be populated here -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        
        <!-- Hidden Print Section -->
        <div id="printSection" class="print-only">
            <div class="print-form">
                <!-- Print content will be populated here -->
            </div>
        </div>
        
        <!-- Scripts -->
        <script src="../assets/assets/js/core/libs.min.js"></script>
        <script src="../assets/assets/js/core/external.min.js"></script>
        <script src="../assets/assets/js/charts/widgetcharts.js"></script>
        <script src="../assets/assets/js/charts/vectore-chart.js"></script>
        <script src="../assets/assets/js/charts/dashboard.js"></script>
        <script src="../assets/assets/js/plugins/fslightbox.js"></script>
        <script src="../assets/assets/js/plugins/setting.js"></script>
        <script src="../assets/assets/js/plugins/slider-tabs.js"></script>
        <script src="../assets/assets/js/plugins/form-wizard.js"></script>
        <script src="../assets/assets/js/kivicare.js"></script>
        <script src="../assets/assets/vendor/flatpickr/dist/flatpickr.min.js"></script>
        <script src="../assets/assets/js/plugins/flatpickr.js"></script>
        <script src="../assets/assets/vendor/sweetalert2/dist/sweetalert2.min.js"></script>
        <script src="../assets/assets/js/iqonic-script/iqonic-script.min.js"></script>
        <script src="../assets/jslogic/service-results.js"></script>
    </body>
</html> 